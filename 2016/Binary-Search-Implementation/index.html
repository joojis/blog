<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Binary Search Implementation | 개발 블로그</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="C++ STL을 쓴다면 lower_bound나 upper_bound 함수를 통해 이분 탐색이 가능하나 vector, set 컨테이너나 혹은 배열을 쓰지 않을 경우 직접 이분 탐색을 구현하여야 하는 경우가 있다. 
정수형 범위에서 이분 탐색아래의 코드는 필자가 선호하는 형태이다. 코드 이해를 돕기 위해 아래와 같은 상황을 설정하자. 상세한 제약은 생략하였다.">
<meta property="og:type" content="article">
<meta property="og:title" content="Binary Search Implementation">
<meta property="og:url" content="https://joojis.github.io/blog/2016/Binary-Search-Implementation/index.html">
<meta property="og:site_name" content="개발 블로그">
<meta property="og:description" content="C++ STL을 쓴다면 lower_bound나 upper_bound 함수를 통해 이분 탐색이 가능하나 vector, set 컨테이너나 혹은 배열을 쓰지 않을 경우 직접 이분 탐색을 구현하여야 하는 경우가 있다. 
정수형 범위에서 이분 탐색아래의 코드는 필자가 선호하는 형태이다. 코드 이해를 돕기 위해 아래와 같은 상황을 설정하자. 상세한 제약은 생략하였다.">
<meta property="og:updated_time" content="2017-01-19T14:13:11.116Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Binary Search Implementation">
<meta name="twitter:description" content="C++ STL을 쓴다면 lower_bound나 upper_bound 함수를 통해 이분 탐색이 가능하나 vector, set 컨테이너나 혹은 배열을 쓰지 않을 경우 직접 이분 탐색을 구현하여야 하는 경우가 있다. 
정수형 범위에서 이분 탐색아래의 코드는 필자가 선호하는 형태이다. 코드 이해를 돕기 위해 아래와 같은 상황을 설정하자. 상세한 제약은 생략하였다.">
  
    <link rel="alternate" href="/atom.xml" title="개발 블로그" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">개발 블로그</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://joojis.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Binary-Search-Implementation" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2016/Binary-Search-Implementation/" class="article-date">
  <time datetime="2016-07-28T03:01:20.000Z" itemprop="datePublished">2016-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Binary Search Implementation
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>C++ STL을 쓴다면 lower_bound나 upper_bound 함수를 통해 이분 탐색이 가능하나 vector, set 컨테이너나 혹은 배열을 쓰지 않을 경우 직접 이분 탐색을 구현하여야 하는 경우가 있다. </p>
<h2 id="정수형-범위에서-이분-탐색"><a href="#정수형-범위에서-이분-탐색" class="headerlink" title="정수형 범위에서 이분 탐색"></a>정수형 범위에서 이분 탐색</h2><p>아래의 코드는 필자가 선호하는 형태이다. 코드 이해를 돕기 위해 아래와 같은 상황을 설정하자. 상세한 제약은 생략하였다.</p>
<blockquote>
<p>새로 개발한 스마트폰의 강도를 실험하기 위해 N층의 빌딩에서 스마트폰을 떨어뜨려 몇 층에서부터 깨지는지를 확인하고 싶다. 한 번 떨어뜨린 스마트폰은 충격을 받아 약해졌을 수 있기 때문에 다시 쓰지 않는다. 스마트폰이 빌딩 층 수만큼 있지는 않기 때문에 이분 탐색을 하려고 한다.</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> a = <span class="number">1</span>, b = N;</div><div class="line"><span class="keyword">while</span> (a &lt;= b) &#123;</div><div class="line">    <span class="keyword">int</span> mid = (a + b) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">bool</span> isPhoneBroken = test(mid);</div><div class="line">    <span class="keyword">if</span> (isPhoneBroken) &#123;</div><div class="line">        b = mid - <span class="number">1</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        a = mid + <span class="number">1</span>;    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>위의 형태는 어디까지나 필자가 선호하는 형태이고 다른 형태가 당연히 존재할 수 있다.</p>
<p>초기 a, b의 상태와 반복문의 진리식을 보자.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> a = <span class="number">1</span>, b = N;</div><div class="line"><span class="keyword">while</span> (a &lt;= b) &#123; ... &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>a &lt;= k &amp;&amp; k &lt;= b를 만족하는 k는 아직 모르는 구간 이다. </p>
<p>k &lt; a || b &lt; k를 만족하는 k는 더 이상 탐색이 필요하지 않은 구간이다.</p>
<p>—–[안깨짐]—–|a—–[모름]—–b|—–[깨짐]—–</p>
</blockquote>
<p>1층에서 떨어뜨렸는데 깨질 수도 있고, N층에서 떨어뜨렸는데 안깨질 수도 있는 것이다. a &lt;= b 조건이 참이라는 것은, 내가 모르는 구간이 존재한다는 의미이다. 탐색을 통해 a = 3이 되고, b = 3이 되었다면, 1~2층에서는 안깨지고, 4~N층에서는 깨지고, 3층에서는 모른다는 의미이다.</p>
<p>while 문을 탈출했다면 a &gt; b 일 것이다. 위의 제시된 구현을 따른다면 a - b == 1 인 관계일 것이다.</p>
<blockquote>
<p>—–[안깨짐]—–b|a—–[깨짐]—–</p>
</blockquote>
<p>이제 문제의 요구 따라 답을 반환하면 된다. 안깨지는 가장 높은 층을 요구하면 b (혹은 a-1)를 반환하면 되고, 깨지는 가장 낮은 층을 요구하면 a (혹은 b+1)를 반환하면 된다. 단, 문제 제약에 따라 탐색할 필요가 없는 구간에 대한 답 출력에 주의해야하는 경우도 있을 수 있다. (예를 들어, 빌딩의 최고층인 N층에서 깨지지 않았다고 N+1층에서 깨진다고 출력할 수 있을까?)</p>
<h2 id="실수형-범위에서-탐색"><a href="#실수형-범위에서-탐색" class="headerlink" title="실수형 범위에서 탐색"></a>실수형 범위에서 탐색</h2><p>만약 빌딩 층 수가 아니라 미터를 쓴다면 어떨까? a, b가 실수형이라면, 보통 문제의 제약에서 오차 범위가 주어진다. 위의 a, b 관계를 생각하면서 아래 코드를 읽어보고, 답을 어떻게 출력할 수 있을지는 스스로 생각해보는 것으로 포스팅을 마친다.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">double</span> a = <span class="number">0</span>, b = N;</div><div class="line"><span class="keyword">while</span> (b - a &gt; ERR_BOUND) &#123;</div><div class="line">    <span class="keyword">double</span> mid = (a + b) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">bool</span> isPhoneBroken = test(mid);</div><div class="line">    <span class="keyword">if</span> (isPhoneBroken) &#123;</div><div class="line">        b = mid;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        a = mid;    </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joojis.github.io/blog/blog/2016/Binary-Search-Implementation/" data-id="ciy4gk05u0002zteqigyv2g55" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ProgrammingContests/">ProgrammingContests</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2016/책-협업의-기술/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          책 - 협업의 기술
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ProgrammingContests/">ProgrammingContests</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/ProgrammingContests/" style="font-size: 10px;">ProgrammingContests</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/07/">July 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2016/책-협업의-기술/">책 - 협업의 기술</a>
          </li>
        
          <li>
            <a href="/blog/2016/Binary-Search-Implementation/">Binary Search Implementation</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 JinGyeong Jeong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>

  </div>
</body>
</html>